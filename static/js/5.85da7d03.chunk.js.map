{"version":3,"sources":["services/api.jsx","views/HomePage.jsx"],"names":["axios","defaults","baseURL","API_KEY","fetchImages","url","a","get","results","console","log","fetchTrendingMovies","findFilms","name","findFilmById","movieId","findActors","findReview","HomePage","useRouteMatch","location","useLocation","useState","movies","setMovies","useEffect","res","data","fetchFilms","map","movie","to","pathname","id","state","from","label","title"],"mappings":"iWACAA,IAAMC,SAASC,QAAU,+BACzB,IAAMC,EAAU,mCAEVC,EAAW,uCAAG,WAAOC,GAAP,eAAAC,EAAA,sEACIN,IAAMO,IAAIF,GADd,cACZG,EADY,OAElBC,QAAQC,IAAI,WAAYF,GAFN,kBAGXA,GAHW,2CAAH,sDAMV,SAASG,IACd,OAAOP,EAAY,+BAAD,OAAgCD,IAG7C,SAASS,EAAUC,GACxB,OAAOT,EAAY,yBAAD,OACSD,EADT,wCACgDU,IAI7D,SAASC,EAAaC,GAC3B,OAAOX,EAAY,UAAD,OAAWW,EAAX,oBAA8BZ,EAA9B,oBAGb,SAASa,EAAWD,GACzB,OAAOX,EAAY,UAAD,OACNW,EADM,4BACqBZ,EADrB,oBAKb,SAASc,EAAWF,GACzB,OAAOX,EAAY,UAAD,OACNW,EADM,4BACqBZ,EADrB,6B,wJC3BL,SAASe,IACNC,IAARd,IAAR,IAEMe,EAAWC,cACjBZ,QAAQC,IAAI,WAAYU,GACxB,MAA4BE,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KAYA,OAVAC,qBAAU,WAAM,4CACd,4BAAAnB,EAAA,+EAEsBK,cAFtB,OAEUe,EAFV,OAGIF,EAAUE,EAAIC,KAAKnB,SAHvB,wGADc,uBAAC,WAAD,wBAOdoB,KACC,IAGD,qCACE,oDACA,6BACGL,EAAOM,KAAI,SAACC,GAAD,OACV,6BACE,cAAC,IAAD,CACEC,GAAI,CACFC,SAAS,WAAD,OAAaF,EAAMG,IAC3BC,MAAO,CACLC,KAAM,CACJf,WACAgB,MAAO,oCANf,SAWGN,EAAMO,SAZFP,EAAMG","file":"static/js/5.85da7d03.chunk.js","sourcesContent":["import axios from \"axios\";\r\naxios.defaults.baseURL = \"https://api.themoviedb.org/3\";\r\nconst API_KEY = \"aeea02db324303291298da0524ee2653\";\r\n\r\nconst fetchImages = async (url) => {\r\n  const results = await axios.get(url);\r\n  console.log(\"response\", results);\r\n  return results;\r\n};\r\n\r\nexport function fetchTrendingMovies() {\r\n  return fetchImages(`/trending/movie/day?api_key=${API_KEY}`);\r\n}\r\n\r\nexport function findFilms(name) {\r\n  return fetchImages(\r\n    `/search/movie?api_key=${API_KEY}&language=en-US&page=1&query=${name}`\r\n  );\r\n}\r\n\r\nexport function findFilmById(movieId) {\r\n  return fetchImages(`/movie/${movieId}?api_key=${API_KEY}&language=en-US`);\r\n}\r\n\r\nexport function findActors(movieId) {\r\n  return fetchImages(\r\n    `/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\r\n  );\r\n}\r\n\r\nexport function findReview(movieId) {\r\n  return fetchImages(\r\n    `/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { Link, useRouteMatch, useLocation } from \"react-router-dom\";\r\nimport { fetchTrendingMovies } from \"../services/api\";\r\n\r\nexport default function HomePage() {\r\n  const { url } = useRouteMatch;\r\n\r\n  const location = useLocation();\r\n  console.log(\"Location\", location);\r\n  const [movies, setMovies] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function fetchFilms() {\r\n      try {\r\n        const res = await fetchTrendingMovies();\r\n        setMovies(res.data.results);\r\n      } catch (e) {}\r\n    }\r\n    fetchFilms();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <h1>Trends of the week</h1>\r\n      <ul>\r\n        {movies.map((movie) => (\r\n          <li key={movie.id}>\r\n            <Link\r\n              to={{\r\n                pathname: `/movies/${movie.id}`,\r\n                state: {\r\n                  from: {\r\n                    location,\r\n                    label: \"назад\",\r\n                  },\r\n                },\r\n              }}\r\n            >\r\n              {movie.title}\r\n            </Link>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n"],"sourceRoot":""}